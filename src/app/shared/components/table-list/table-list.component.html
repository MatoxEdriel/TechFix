<div class="relative overflow-x-auto shadow-md sm:rounded-lg border border-gray-100 dark:border-gray-700">

  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">

    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th *ngFor="let col of columns" scope="col" class="px-6 py-3">
          {{ col.label }}
        </th>
      </tr>
    </thead>

    <tbody>

      <tr *ngFor="let row of data"
        class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors">

        <td *ngFor="let col of columns" class="px-6 py-4">

          <ng-container [ngSwitch]="col.type">

            <span *ngSwitchCase="'status'" class="px-2 py-1 font-semibold leading-tight rounded-full text-xs" [ngClass]="{
                'text-green-700 bg-green-100 dark:bg-green-700 dark:text-green-100': row[col.def] === 'Activo' || row[col.def] === 'Completado',
                'text-red-700 bg-red-100 dark:bg-red-700 dark:text-red-100': row[col.def] === 'Inactivo' || row[col.def] === 'Cancelado',
                'text-yellow-700 bg-yellow-100 dark:bg-yellow-700 dark:text-yellow-100': row[col.def] === 'Pendiente'
              }">
              {{ row[col.def] }}
            </span>

            <div *ngSwitchCase="'action'" class="flex gap-3">
              <button *ngFor="let act of col.actions" (click)="handleAction(row, act.actionType)"
                [class]="act.color || 'text-blue-600 hover:underline'" [title]="act.label">
                <i [class]="act.icon"></i>
              </button>
            </div>

            <span *ngSwitchDefault>
              {{ row[col.def] }}
            </span>

          </ng-container>

        </td>
      </tr>

      <tr *ngIf="data.length === 0">
        <td [attr.colspan]="columns.length" class="px-6 py-8 text-center">
          <div class="flex flex-col items-center justify-center text-gray-400">
            <i class="fa-solid fa-inbox text-3xl mb-2"></i>
            <span>No hay datos para mostrar</span>
          </div>
        </td>
      </tr>

    </tbody>
  </table>
</div>